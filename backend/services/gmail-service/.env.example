# =============================================================================
# Gmail Service - Environment Configuration
# Copy this file to .env and update with your actual values
# =============================================================================

# =============================================================================
# Server Configuration
# =============================================================================
NODE_ENV=development
PORT=3100
API_PREFIX=api/v1

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/gmail_service_dev"

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Bull Queue Redis (can be same as main Redis)
BULL_REDIS_HOST=localhost
BULL_REDIS_PORT=6379

# =============================================================================
# Google OAuth Configuration
# =============================================================================
# Get these from: https://console.cloud.google.com/
# Enable Gmail API and create OAuth 2.0 credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3100/api/v1/auth/google/callback

# =============================================================================
# Session Configuration
# =============================================================================
# Generate with: openssl rand -hex 32
SESSION_SECRET=your-very-long-random-session-secret-change-this
SESSION_NAME=gmail_service_sid
SESSION_MAX_AGE=2592000000
# 30 days in milliseconds

# =============================================================================
# Token Encryption (AES-256-GCM)
# =============================================================================
# Generate with: openssl rand -hex 32
# CRITICAL: Keep this secure, never commit to git
ENCRYPTION_KEY=your-32-byte-hex-encryption-key-64-characters

# =============================================================================
# CORS Configuration
# =============================================================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true
FRONTEND_URL=http://localhost:3000

# =============================================================================
# Rate Limiting (FR-013 Implementation)
# =============================================================================
MAX_REQUESTS_PER_SECOND=250
RATE_LIMIT_WINDOW_MS=1000
MAX_RETRY_ATTEMPTS=3
BASE_DELAY_MS=1000

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_TTL_SECONDS=300
# 5 minutes
MAX_CACHE_SIZE_BYTES=1048576
# 1MB per entry

# =============================================================================
# File Storage (Attachment Downloads - Phase 4)
# =============================================================================
DOWNLOAD_DIR=./downloads
TEMP_STORAGE_PATH=./temp
MAX_FILE_SIZE_MB=25
FILE_RETENTION_HOURS=24

# =============================================================================
# Gmail API Configuration
# =============================================================================
GMAIL_API_SCOPES=gmail.readonly,userinfo.email,userinfo.profile

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=debug
LOG_FORMAT=json
# Options: error, warn, log, debug, verbose

# =============================================================================
# Security Configuration
# =============================================================================
HELMET_ENABLED=true
DISABLE_CSRF=false
# NEVER set DISABLE_CSRF=true in production

# =============================================================================
# Swagger API Documentation
# =============================================================================
SWAGGER_ENABLED=true
SWAGGER_PATH=api/docs
SWAGGER_TITLE=Gmail Email Search API
SWAGGER_VERSION=1.0

# =============================================================================
# Audit & Compliance
# =============================================================================
AUDIT_LOG_ENABLED=true
GDPR_COMPLIANCE_MODE=true

# =============================================================================
# Development/Testing
# =============================================================================
MOCK_GMAIL_API=false
